{"version":3,"sources":["../../../../../node_modules/@babel/helper-define-polyfill-provider/lib/utils.js"],"names":["exports","babel","_interopRequireWildcard","require","cache","_getRequireWildcardCache","obj","default","newObj","hasPropertyDescriptor","Object","desc","types","template","result","a","v","b","path","deopt","computed","scope","node","name","isIdentifier","parent","sym","resolveKey","value","id","resolveId","placement","getType","t","expression","isRequire","prog","p","injectGlobalImport","isScript","ast","injectNamedImport","hint","hoist","source","injectDefaultImport"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.intersection = intersection;\nexports.has = has;\nexports.resolveKey = resolveKey;\nexports.resolveSource = resolveSource;\nexports.getImportSource = getImportSource;\nexports.getRequireSource = getRequireSource;\nexports.createUtilsGetter = createUtilsGetter;\n\nvar babel = _interopRequireWildcard(require(\"@babel/core\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nconst {\n  types: t,\n  template\n} = babel.default || babel;\n\nfunction intersection(a, b) {\n  const result = new Set();\n  a.forEach(v => b.has(v) && result.add(v));\n  return result;\n}\n\nfunction has(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\n\nfunction getType(target) {\n  return Object.prototype.toString.call(target).slice(8, -1);\n}\n\nfunction resolveId(path) {\n  if (path.isIdentifier() && !path.scope.hasBinding(path.node.name,\n  /* noGlobals */\n  true)) {\n    return path.node.name;\n  }\n\n  const {\n    deopt\n  } = path.evaluate();\n\n  if (deopt && deopt.isIdentifier()) {\n    return deopt.node.name;\n  }\n}\n\nfunction resolveKey(path, computed = false) {\n  const {\n    node,\n    parent,\n    scope\n  } = path;\n  if (path.isStringLiteral()) return node.value;\n  const {\n    name\n  } = node;\n  const isIdentifier = path.isIdentifier();\n  if (isIdentifier && !(computed || parent.computed)) return name;\n\n  if (computed && path.isMemberExpression() && path.get(\"object\").isIdentifier({\n    name: \"Symbol\"\n  }) && !scope.hasBinding(\"Symbol\",\n  /* noGlobals */\n  true)) {\n    const sym = resolveKey(path.get(\"property\"), path.node.computed);\n    if (sym) return \"Symbol.\" + sym;\n  }\n\n  if (!isIdentifier || scope.hasBinding(name,\n  /* noGlobals */\n  true)) {\n    const {\n      value\n    } = path.evaluate();\n    if (typeof value === \"string\") return value;\n  }\n}\n\nfunction resolveSource(obj) {\n  if (obj.isMemberExpression() && obj.get(\"property\").isIdentifier({\n    name: \"prototype\"\n  })) {\n    const id = resolveId(obj.get(\"object\"));\n\n    if (id) {\n      return {\n        id,\n        placement: \"prototype\"\n      };\n    }\n\n    return {\n      id: null,\n      placement: null\n    };\n  }\n\n  const id = resolveId(obj);\n\n  if (id) {\n    return {\n      id,\n      placement: \"static\"\n    };\n  }\n\n  const {\n    value\n  } = obj.evaluate();\n\n  if (value !== undefined) {\n    return {\n      id: getType(value),\n      placement: \"prototype\"\n    };\n  } else if (obj.isRegExpLiteral()) {\n    return {\n      id: \"RegExp\",\n      placement: \"prototype\"\n    };\n  } else if (obj.isFunction()) {\n    return {\n      id: \"Function\",\n      placement: \"prototype\"\n    };\n  }\n\n  return {\n    id: null,\n    placement: null\n  };\n}\n\nfunction getImportSource({\n  node\n}) {\n  if (node.specifiers.length === 0) return node.source.value;\n}\n\nfunction getRequireSource({\n  node\n}) {\n  if (!t.isExpressionStatement(node)) return;\n  const {\n    expression\n  } = node;\n  const isRequire = t.isCallExpression(expression) && t.isIdentifier(expression.callee) && expression.callee.name === \"require\" && expression.arguments.length === 1 && t.isStringLiteral(expression.arguments[0]);\n  if (isRequire) return expression.arguments[0].value;\n}\n\nfunction hoist(node) {\n  node._blockHoist = 3;\n  return node;\n}\n\nfunction createUtilsGetter(cache) {\n  return path => {\n    const prog = path.findParent(p => p.isProgram());\n    return {\n      injectGlobalImport(url) {\n        cache.storeAnonymous(prog, url, (isScript, source) => {\n          return isScript ? template.statement.ast`require(${source})` : t.importDeclaration([], source);\n        });\n      },\n\n      injectNamedImport(url, name, hint = name) {\n        return cache.storeNamed(prog, url, name, (isScript, source, name) => {\n          const id = prog.scope.generateUidIdentifier(hint);\n          return {\n            node: isScript ? hoist(template.statement.ast`\n                  var ${id} = require(${source}).${name}\n                `) : t.importDeclaration([t.importSpecifier(id, name)], source),\n            name: id.name\n          };\n        });\n      },\n\n      injectDefaultImport(url, hint = url) {\n        return cache.storeNamed(prog, url, \"default\", (isScript, source) => {\n          const id = prog.scope.generateUidIdentifier(hint);\n          return {\n            node: isScript ? hoist(template.statement.ast`var ${id} = require(${source})`) : t.importDeclaration([t.importDefaultSpecifier(id)], source),\n            name: id.name\n          };\n        });\n      }\n\n    };\n  };\n}"],"file":"utils.js"}
{"version":3,"sources":["../../../../../../../node_modules/@babel/core/lib/config/files/module-types.js"],"names":["Object","value","exports","_async","require","data","_path","_url","_module","info","gen","reject","resolve","Promise","self","args","fn","asyncGeneratorStep","_next","import_","fallbackToTranspiledModule","guessJSModuleType","loadCjsDefault","e","loadMjsDefault","module","_loadMjsDefault","_asyncToGenerator"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = loadCjsOrMjsDefault;\n\nvar _async = require(\"../../gensync-utils/async\");\n\nfunction _path() {\n  const data = require(\"path\");\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _url() {\n  const data = require(\"url\");\n\n  _url = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _module() {\n  const data = require(\"module\");\n\n  _module = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nlet import_;\n\ntry {\n  import_ = require(\"./import\").default;\n} catch (_unused) {}\n\nfunction* loadCjsOrMjsDefault(filepath, asyncError, fallbackToTranspiledModule = false) {\n  switch (guessJSModuleType(filepath)) {\n    case \"cjs\":\n      return loadCjsDefault(filepath, fallbackToTranspiledModule);\n\n    case \"unknown\":\n      try {\n        return loadCjsDefault(filepath, fallbackToTranspiledModule);\n      } catch (e) {\n        if (e.code !== \"ERR_REQUIRE_ESM\") throw e;\n      }\n\n    case \"mjs\":\n      if (yield* (0, _async.isAsync)()) {\n        return yield* (0, _async.waitFor)(loadMjsDefault(filepath));\n      }\n\n      throw new Error(asyncError);\n  }\n}\n\nfunction guessJSModuleType(filename) {\n  switch (_path().extname(filename)) {\n    case \".cjs\":\n      return \"cjs\";\n\n    case \".mjs\":\n      return \"mjs\";\n\n    default:\n      return \"unknown\";\n  }\n}\n\nfunction loadCjsDefault(filepath, fallbackToTranspiledModule) {\n  const module = require(filepath);\n\n  return module != null && module.__esModule ? module.default || (fallbackToTranspiledModule ? module : undefined) : module;\n}\n\nfunction loadMjsDefault(_x) {\n  return _loadMjsDefault.apply(this, arguments);\n}\n\nfunction _loadMjsDefault() {\n  _loadMjsDefault = _asyncToGenerator(function* (filepath) {\n    if (!import_) {\n      throw new Error(\"Internal error: Native ECMAScript modules aren't supported\" + \" by this platform.\\n\");\n    }\n\n    const module = yield import_((0, _url().pathToFileURL)(filepath));\n    return module.default;\n  });\n  return _loadMjsDefault.apply(this, arguments);\n}"],"file":"module-types.js"}
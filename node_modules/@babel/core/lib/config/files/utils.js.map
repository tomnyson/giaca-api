{"version":3,"sources":["../../../../../../../node_modules/@babel/core/lib/config/files/utils.js"],"names":["Object","value","exports","_caching","require","fs","data","_fs2","cached","cache","fileMtime","fn","e"],"mappings":"AAAA;;AAEAA,MAAM,CAANA,cAAAA,CAAAA,OAAAA,EAAAA,YAAAA,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7CD;AAGAE,OAAO,CAAPA,mBAAAA,GAAAA,mBAAAA;;AAEA,IAAIC,QAAQ,GAAGC,OAAO,CAAtB,YAAsB,CAAtB;;AAEA,IAAIC,EAAE,GAAGD,OAAO,CAAhB,wBAAgB,CAAhB;;AAEA,SAAA,IAAA,GAAgB;AACd,QAAME,IAAI,GAAGF,OAAO,CAApB,IAAoB,CAApB;;AAEAG,EAAAA,IAAI,GAAG,YAAY;AACjB,WAAA,IAAA;AADFA,GAAAA;;AAIA,SAAA,IAAA;AACD;;AAED,SAAA,mBAAA,CAAA,EAAA,EAAiC;AAC/B,SAAO,CAAC,GAAGJ,QAAQ,CAAZ,eAAA,EAA8B,WAAA,QAAA,EAAA,KAAA,EAA4B;AAC/D,UAAMK,MAAM,GAAGC,KAAK,CAALA,UAAAA,CAAiB,MAAMC,SAAS,CAA/C,QAA+C,CAAhCD,CAAf;;AAEA,QAAID,MAAM,KAAV,IAAA,EAAqB;AACnB,aAAA,IAAA;AACD;;AAED,WAAOG,EAAE,CAAA,QAAA,EAAW,OAAON,EAAE,CAAFA,QAAAA,CAAAA,QAAAA,EAA3B,MAA2BA,CAAlB,CAAT;AAPF,GAAO,CAAP;AASD;;AAED,SAAA,SAAA,CAAA,QAAA,EAA6B;AAC3B,MAAI,CAACE,IAAI,GAAJA,UAAAA,CAAL,QAAKA,CAAL,EAAkC,OAAA,IAAA;;AAElC,MAAI;AACF,WAAO,CAACA,IAAI,GAAJA,QAAAA,CAAAA,QAAAA,EAAR,KAAA;AADF,GAAA,CAEE,OAAA,CAAA,EAAU;AACV,QAAIK,CAAC,CAADA,IAAAA,KAAAA,QAAAA,IAAuBA,CAAC,CAADA,IAAAA,KAA3B,SAAA,EAAiD,MAAA,CAAA;AAClD;;AAED,SAAA,IAAA;AACD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeStaticFileCache = makeStaticFileCache;\n\nvar _caching = require(\"../caching\");\n\nvar fs = require(\"../../gensync-utils/fs\");\n\nfunction _fs2() {\n  const data = require(\"fs\");\n\n  _fs2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction makeStaticFileCache(fn) {\n  return (0, _caching.makeStrongCache)(function* (filepath, cache) {\n    const cached = cache.invalidate(() => fileMtime(filepath));\n\n    if (cached === null) {\n      return null;\n    }\n\n    return fn(filepath, yield* fs.readFile(filepath, \"utf8\"));\n  });\n}\n\nfunction fileMtime(filepath) {\n  if (!_fs2().existsSync(filepath)) return null;\n\n  try {\n    return +_fs2().statSync(filepath).mtime;\n  } catch (e) {\n    if (e.code !== \"ENOENT\" && e.code !== \"ENOTDIR\") throw e;\n  }\n\n  return null;\n}"],"file":"utils.js"}
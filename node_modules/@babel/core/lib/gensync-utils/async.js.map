{"version":3,"sources":["../../../../../../node_modules/@babel/core/lib/gensync-utils/async.js"],"names":["Object","value","exports","data","require","_gensync","id","x","runGenerator","isAsync","sync","errback","cb","result","fn","isThenable","async","Promise","withKind","g","kind","adapted","onFirstPause","name","arity","completed","firstPause","waitFor","val"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.maybeAsync = maybeAsync;\nexports.forwardAsync = forwardAsync;\nexports.isThenable = isThenable;\nexports.waitFor = exports.onFirstPause = exports.isAsync = void 0;\n\nfunction _gensync() {\n  const data = require(\"gensync\");\n\n  _gensync = function () {\n    return data;\n  };\n\n  return data;\n}\n\nconst id = x => x;\n\nconst runGenerator = _gensync()(function* (item) {\n  return yield* item;\n});\n\nconst isAsync = _gensync()({\n  sync: () => false,\n  errback: cb => cb(null, true)\n});\n\nexports.isAsync = isAsync;\n\nfunction maybeAsync(fn, message) {\n  return _gensync()({\n    sync(...args) {\n      const result = fn.apply(this, args);\n      if (isThenable(result)) throw new Error(message);\n      return result;\n    },\n\n    async(...args) {\n      return Promise.resolve(fn.apply(this, args));\n    }\n\n  });\n}\n\nconst withKind = _gensync()({\n  sync: cb => cb(\"sync\"),\n  async: cb => cb(\"async\")\n});\n\nfunction forwardAsync(action, cb) {\n  const g = _gensync()(action);\n\n  return withKind(kind => {\n    const adapted = g[kind];\n    return cb(adapted);\n  });\n}\n\nconst onFirstPause = _gensync()({\n  name: \"onFirstPause\",\n  arity: 2,\n  sync: function (item) {\n    return runGenerator.sync(item);\n  },\n  errback: function (item, firstPause, cb) {\n    let completed = false;\n    runGenerator.errback(item, (err, value) => {\n      completed = true;\n      cb(err, value);\n    });\n\n    if (!completed) {\n      firstPause();\n    }\n  }\n});\n\nexports.onFirstPause = onFirstPause;\n\nconst waitFor = _gensync()({\n  sync: id,\n  async: id\n});\n\nexports.waitFor = waitFor;\n\nfunction isThenable(val) {\n  return !!val && (typeof val === \"object\" || typeof val === \"function\") && !!val.then && typeof val.then === \"function\";\n}"],"file":"async.js"}